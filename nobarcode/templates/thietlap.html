{% extends 'base.html' %}

{% block content %}
{%load static%}
      


<div class="main-panel">        
  <div class="content-wrapper">
    <div class="row">
      <div class="col-md-5 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h3>Chọn thông số</h3>

            <!-- Form -->
            <form id="myForm" method="post" action="{% url 'thietlap_sno' %}" onsubmit="return validateForm()">
              {% csrf_token %}


              <div class="form-group row">
                <label for="exampleFormControlInput2" class="col-sm-4 col-form-label">Số yêu cầu</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control form-control-lg" id="exampleFormControlInput2" name="so_yeu_cau" placeholder="Nhập số yêu cầu" autocomplete="off" required pattern="[A-Z0-9]+">
                </div>
                <script>
                  document.getElementById("exampleFormControlInput2").addEventListener("input", function() {
                      this.value = this.value.toUpperCase();
                  });
              </script>

              </div>
              
              <div class="form-group row">
                <label for="exampleFormControlInputRep" class="col-sm-4 col-form-label">Số rep</label>
                <div class="col-sm-8">
                    <input type="number" class="form-control form-control-lg" id="exampleFormControlInputRep" name="so_rep" placeholder="Nhập số rep" autocomplete="off" required value="0" min="0">
                </div>
            </div>
            

              <!-- Dropdown 3 -->
              <div class="form-group row">
                  <label for="exampleFormControlInput3" class="col-sm-4 col-form-label">Số lượng</label>
                  <div class="col-sm-8">
                      <input type="number" class="form-control" id="exampleFormControlInput3" name="so_luong" placeholder="Nhập số lượng" min="0" autocomplete="off" required>
                  </div>
              </div>
            


              <!-- Radio Buttons -->
              <div class="form-group row">
                  <label class="col-sm-4 col-form-label">Loại S chuẩn</label>
                  <div class="col-sm-8">
                      <div class="form-check form-check-inline mr-3">
                          <label class="form-check-label">
                              <input type="radio" class="form-check-input" name="loai_s_chuan" value="Có S chuẩn" required>
                              Có S chuẩn 
                          </label>
                      </div>
                      <div class="form-check form-check-inline mr-3">
                          <label class="form-check-label">
                              <input type="radio" class="form-check-input" name="loai_s_chuan" value="Sẽ làm S chuẩn" required>
                              Sẽ làm S chuẩn
                          </label>
                      </div>
                      <div class="form-check form-check-inline mr-3">
                          <label class="form-check-label">
                              <input type="radio" class="form-check-input" name="loai_s_chuan" value="Không làm S chuẩn" required>
                              Không làm S chuẩn
                          </label>
                      </div>
                  </div>
              </div>

              <!-- Dropdown 1 -->
              <!-- <div class="form-group row">
                <label for="exampleFormControlInput1" class="col-sm-4 col-form-label">S no</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control form-control-lg" id="exampleFormControlInput1" name="s_no" placeholder="Nhập S no" required>
                </div>
            </div> -->

              <!-- Nút Submit -->
              <div class="form-group row">
                  <div class="col-sm-8">
                      <button type="submit" class="btn btn-primary">Tiếp tục</button>
                  </div>
              </div>

              <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

              <script>
                  $(document).ready(function () {
                      $('form input, form textarea').on('keyup', function (e) {
                          if (e.which === 13) {
                              e.preventDefault(); 
                              $('form button[type="submit"]').click(); 
                          }
                      });
                  });
              </script>


            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function validateForm() {
      var soYeuCauInput = document.getElementById('exampleFormControlInput2');
      var soRepInput = document.getElementById('exampleFormControlInputRep');
      var soYeuCauValue = soYeuCauInput.value.trim();

    
      if (soYeuCauValue.charAt(0).toUpperCase() === 'L') {
          if (parseInt(soRepInput.value) === 0) {
              alert('Số rep không được là 0 khi số yêu cầu bắt đầu bằng L');
              return false; 
          }
      } 
      else if (!isNaN(soYeuCauValue.charAt(0))) {
          if (parseInt(soRepInput.value) !== 0) {
              alert('Số rep phải là 0 khi số yêu cầu bắt đầu bằng số');
              return false; 
          }
      }

      return true;
  }
</script>



{% endblock %}
<div class="main-panel">        
  <div class="content-wrapper">
    <div class="row">
      <div class="col-md-5 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h3>Chọn thông số</h3>
            
            <!-- Form -->
            <form id="myForm" method="post" action="{% url 'thietlap_detail' %}">
              {% csrf_token %}

              
              <!-- Dropdown 2 -->
              <div class="form-group row">
                <label for="exampleFormControlInput2" class="col-sm-4 col-form-label">Số yêu cầu</label>
                <div class="col-sm-8">
                  <input type="text" class="form-control form-control-lg" id="exampleFormControlInput2" name="so_yeu_cau" placeholder="Nhập số yêu cầu">
                </div>
              </div>
              
              <!-- Dropdown 3 -->
              <div class="form-group row">
                <label for="exampleFormControlInput3" class="col-sm-4 col-form-label">Số lượng</label>
                <div class="col-sm-8">
                  <input type="number" class="form-control" id="exampleFormControlInput3" name="quantity" placeholder="Nhập số lượng" min="0">
                </div>
              </div>
              

              <!-- Dropdown 1 -->
              <div class="form-group row">
                <label for="exampleFormControlInput1" class="col-sm-4 col-form-label">S no</label>
                <div class="col-sm-8">
                  <input type="text" class="form-control form-control-lg" id="exampleFormControlInput1" name="s_no" placeholder="Nhập S no">
                </div>
              </div>

              <!-- Radio Buttons -->
              <div class="form-group row">
                <label class="col-sm-4 col-form-label">Loại S chuẩn</label>
                <div class="col-sm-8">
                  <div class="form-check form-check-inline mr-3">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="loai_s_chuan" value="Có S chuẩn" checked>
                      Có S chuẩn 
                    </label>
                  </div>
                  <div class="form-check form-check-inline mr-3">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="loai_s_chuan" value="Sẽ làm S chuẩn">
                      Sẽ làm S chuẩn
                    </label>
                  </div>
                  <div class="form-check form-check-inline mr-3">
                    <label class="form-check-label">
                      <input type="radio" class="form-check-input" name="loai_s_chuan" value="Không làm S chuẩn">
                      Không làm S chuẩn
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Nút Submit -->
              <div class="form-group row">
                <div class="col-sm-8">
                  <button type="submit" class="btn btn-primary">Tiếp tục</button>
                </div>
              </div>
              
            </form>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


